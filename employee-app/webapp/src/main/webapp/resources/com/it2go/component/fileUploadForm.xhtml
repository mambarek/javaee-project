<ui:component
              xmlns:h="http://xmlns.jcp.org/jsf/html"
              xmlns:f="http://java.sun.com/jsf/core"
              xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
              xmlns:cc="http://xmlns.jcp.org/jsf/composite"
              xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
              xmlns:jsf="http://xmlns.jcp.org/jsf"
              xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

    <cc:interface componentType="AbstractFormRow">
        <cc:attribute name="value" required="false"
                      shortDescription="The selected value." />
        <cc:attribute name="label"
                      shortDescription="the label." />
        <cc:attribute name="fileUploadBean"
                      shortDescription="fileUploadBean." required="true"/>
        <cc:attribute name="isRequired" default="false" type="boolean"
                      shortDescription="if the value is required"/>
        <cc:attribute name="disabled" default="false" type="boolean"
                      shortDescription="the input is rendered but disabled"/>
        <cc:attribute name="readOnly" default="false" type="boolean"
                      shortDescription="readOnlx means the comonent is rendered as string"/>
        <cc:attribute name="placeholder"
                      shortDescription="HTML5 palceholder for the input"/>
        <cc:attribute name="ajaxValidation" default="true" type="boolean"
                      shortDescription="enable onChange event ajax validation. default true"/>
        <cc:attribute name="ajaxRender"
                      shortDescription="add which ids to render after ajax validation e.e (@form text1)"/>
        <cc:editableValueHolder name="input" targets="file"/>
        <cc:clientBehavior name="changed" event="change" targets="file"/>
        <cc:clientBehavior name="click" event="click" targets="file"/>

    </cc:interface>

    <cc:implementation>
        <div id="#{cc.clientId}" class="inputWidget" data-component-name="fileUploadForm">
            <div class="col inputContainer p-0" data-component-name='rowForm'>
                <h:outputLabel styleClass="col-form-label" value="#{cc.attrs.label}"/>
                <c:if test="#{!cc.attrs.readOnly}">
                    <div class="input-group">
                        <h:form id="form" enctype="multipart/form-data" prependId="false">
                            <h:inputFile id="file" styleClass="form-control" value="#{cc.attrs.fileUploadBean.file}">

                            </h:inputFile>
                            <h:commandButton id="button" value="Upload" action="#{cc.attrs.fileUploadBean.uploadFile}">
                                <f:ajax execute="file" render="@all"/>
                            </h:commandButton>
                        </h:form>

                    </div>
                    <!-- error message output -->
                    <div class="invalid-feedback">
                        <h:message id="message" for="file"/>
                    </div>
                </c:if>
                <c:if test="#{cc.attrs.readOnly}">
                    <span>#{cc.displayValue}</span>
                </c:if>
            </div>

        </div>
    </cc:implementation>
</ui:component>