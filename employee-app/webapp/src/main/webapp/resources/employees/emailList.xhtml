<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:composite="http://xmlns.jcp.org/jsf/composite">

<composite:interface componentType="com.it2go.employee.ui.jsf.DynamicEmailList">
    <composite:attribute name="value" type="java.util.List" shortDescription="The list of emails from model" />
</composite:interface>

<composite:implementation>
    <div id="#{cc.clientId}">

        <h:dataTable id="table" binding="#{cc.table}" value="#{cc.attrs.value}" var="email" style="width: 100%">
            <h:column >
                <div class="form-group row">
                    <label class="col-md-3 col-form-label" for="email">Email</label>
                    <div class="col">
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="Please give your Email here!"
                                   jsf:id="email"  data-valid="#{component.valid}"
                                   jsf:value="#{email.email}" jsf:required="true" jsf:immediate="true">
                                <f:ajax execute="@this" render="@this" onevent="handleAjax"/>
                            </input>
                            <!--<span class="input-group-addon fa fa-minus-square"/>-->
                            <a class="btn-primary add-email" jsf:action="#{cc.remove}" >
                                <f:ajax render="#{cc.clientId}"/>
                                <span class="input-group-addon fa fa-minus-circle fa-2"/>
                            </a>
                        </div>
                        <h:message errorClass="form-control-feedback" for="email"/>
                    </div>
                </div>
            </h:column>
        </h:dataTable>
        <div class="form-group row">
            <label class="col-md-3 col-form-label" />
            <div class="col">
                <a class="btn btn-primary" jsf:action="#{cc.add}"  jsf:id="addAction">
                    <f:ajax render="#{cc.clientId}" />
                    <i class="fa fa-plus-square fa-lg"/>  Email</a>
            </div>
        </div>
    </div>
</composite:implementation>
</html>